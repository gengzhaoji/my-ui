import{_ as s,c as n,o as a,a as l}from"./app.7dede5df.js";const A=JSON.parse('{"title":"\u65E5\u5FD7\u5220\u9664","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u540E\u53F0\u65E5\u5FD7\u5220\u9664","slug":"\u540E\u53F0\u65E5\u5FD7\u5220\u9664"},{"level":2,"title":"Nginx \u65E5\u5FD7\u5220\u9664","slug":"nginx-\u65E5\u5FD7\u5220\u9664"},{"level":2,"title":"\u914D\u7F6E\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\uFF1A \u4F7F\u7528 Windows \u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\u5B9A\u671F\u6267\u884C\u4E0A\u8FF0\u811A\u672C\u3002","slug":"\u914D\u7F6E\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\uFF1A-\u4F7F\u7528-windows-\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\u5B9A\u671F\u6267\u884C\u4E0A\u8FF0\u811A\u672C\u3002"}],"relativePath":"knowledge/Mysql/log.md","lastUpdated":1739425756000}'),p={name:"knowledge/Mysql/log.md"},o=l(`<h1 id="\u65E5\u5FD7\u5220\u9664" tabindex="-1">\u65E5\u5FD7\u5220\u9664 <a class="header-anchor" href="#\u65E5\u5FD7\u5220\u9664" aria-hidden="true">#</a></h1><h2 id="\u540E\u53F0\u65E5\u5FD7\u5220\u9664" tabindex="-1">\u540E\u53F0\u65E5\u5FD7\u5220\u9664 <a class="header-anchor" href="#\u540E\u53F0\u65E5\u5FD7\u5220\u9664" aria-hidden="true">#</a></h2><p>1\u3001\u7F16\u8F91<code>bat</code>\u811A\u672C</p><div class="language-batch"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">chcp</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">936</span></span>
<span class="line"><span style="color:#89DDFF;">@echo</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">off</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">set</span><span style="color:#A6ACCD;"> logsPath</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">C:\\logs\\secrecy</span></span>
<span class="line"><span style="color:#89DDFF;">set</span><span style="color:#A6ACCD;"> DaysAgo</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> =========\u5F53\u524D\u65E5\u671F\u65F6\u95F4==========</span></span>
<span class="line"><span style="color:#89DDFF;">set</span><span style="color:#A6ACCD;"> nowdate</span><span style="color:#89DDFF;">=%</span><span style="color:#A6ACCD;">date</span><span style="color:#89DDFF;">:~</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">%%</span><span style="color:#A6ACCD;">date</span><span style="color:#89DDFF;">:~</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">%%</span><span style="color:#A6ACCD;">date</span><span style="color:#89DDFF;">:~</span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">%%</span><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">:~</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">%%</span><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">:~</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">%%</span><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">:~</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">%</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">nowdate</span><span style="color:#89DDFF;">%</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> =============================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> ======\u8FDB\u5165\u5230\u65E5\u5FD7\u76EE\u5F55======</span></span>
<span class="line"><span style="color:#A6ACCD;">C:</span></span>
<span class="line"><span style="color:#89DDFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">logsPath</span><span style="color:#89DDFF;">%</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> =============================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> \u83B7\u53D6&quot;C:\\logs\\secrecy&quot;\u76EE\u5F55\u4E0B\u7684log\u6587\u4EF6,\u5E76\u4E14\u5220\u96647\u5929\u524D\u7684\u6587\u4EF6</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> *********************</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> * \u6309\u65F6\u95F4\u5220\u96645\u5929\u524D\u7684log\u6587\u4EF6 *</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> *********************</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> \u5220\u9664log\u6587\u4EF6\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#89DDFF;">forfiles</span><span style="color:#A6ACCD;"> /p </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">logsPath</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;"> /s /m *.log /d -</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">DaysAgo</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;"> /c </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cmd /c del @path</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> \u4E0D\u5173\u95ED\u7A97\u53E3\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> pause&gt;nul \u8868\u793A\u547D\u4EE4\u7A97\u53E3\u4E0D\u4F1A\u51FA\u73B0\u201C\u8BF7\u6309\u4EFB\u610F\u952E\u7EE7\u7EED\u201D</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> pause&gt;nul</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> \u5173\u95ED\u7A97\u53E3</span></span>
<span class="line"><span style="color:#89DDFF;">@echo</span><span style="color:#A6ACCD;"> \u6570\u636E\u5E93\u5907\u4EFD\u64CD\u4F5C\u5B8C\u6210\uFF0C5\u79D2\u540E\u5173\u95ED\u7A0B\u5E8F...</span></span>
<span class="line"><span style="color:#89DDFF;">ping</span><span style="color:#A6ACCD;"> /n </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> 127.1 </span><span style="color:#89DDFF;">&gt;nul</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">exit</span></span>
<span class="line"></span></code></pre></div><h2 id="nginx-\u65E5\u5FD7\u5220\u9664" tabindex="-1">Nginx \u65E5\u5FD7\u5220\u9664 <a class="header-anchor" href="#nginx-\u65E5\u5FD7\u5220\u9664" aria-hidden="true">#</a></h2><p>1\u3001\u7F16\u8F91<code>bat</code>\u811A\u672C</p><div class="language-batch"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">chcp</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">936</span></span>
<span class="line"><span style="color:#89DDFF;">@echo</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">off</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">set</span><span style="color:#A6ACCD;"> logsPath</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">C:\\server\\nginx-1.16.1\\logs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> ======\u8FDB\u5165\u5230\u65E5\u5FD7\u76EE\u5F55======</span></span>
<span class="line"><span style="color:#A6ACCD;">C:</span></span>
<span class="line"><span style="color:#89DDFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">logsPath</span><span style="color:#89DDFF;">%</span></span>
<span class="line"><span style="color:#89DDFF;">echo</span><span style="color:#A6ACCD;"> =============================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;%</span><span style="color:#A6ACCD;">logsPath</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">\\access.log</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;%</span><span style="color:#A6ACCD;">logsPath</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">\\error.log</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">rem</span><span style="color:#676E95;font-style:italic;"> \u5173\u95ED\u7A97\u53E3</span></span>
<span class="line"><span style="color:#89DDFF;">@echo</span><span style="color:#A6ACCD;"> \u65E5\u5FD7\u5220\u9664\u64CD\u4F5C\u5B8C\u6210\uFF0C5\u79D2\u540E\u5173\u95ED\u7A0B\u5E8F...</span></span>
<span class="line"><span style="color:#89DDFF;">ping</span><span style="color:#A6ACCD;"> /n </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> 127.1 </span><span style="color:#89DDFF;">&gt;nul</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">exit</span></span>
<span class="line"></span></code></pre></div><h2 id="\u914D\u7F6E\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\uFF1A-\u4F7F\u7528-windows-\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\u5B9A\u671F\u6267\u884C\u4E0A\u8FF0\u811A\u672C\u3002" tabindex="-1">\u914D\u7F6E\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\uFF1A \u4F7F\u7528 Windows \u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\u5B9A\u671F\u6267\u884C\u4E0A\u8FF0\u811A\u672C\u3002 <a class="header-anchor" href="#\u914D\u7F6E\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\uFF1A-\u4F7F\u7528-windows-\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F\u5B9A\u671F\u6267\u884C\u4E0A\u8FF0\u811A\u672C\u3002" aria-hidden="true">#</a></h2><ul><li><p>\u6253\u5F00<code>\u4EFB\u52A1\u8BA1\u5212\u7A0B\u5E8F</code>\uFF08Task Scheduler\uFF09\u3002</p></li><li><p>\u70B9\u51FB<code>\u521B\u5EFA\u4EFB\u52A1</code>\uFF08Create Task\uFF09\u3002</p></li><li><p>\u5728<code>\u5E38\u89C4</code>\u9009\u9879\u5361\u4E2D\uFF0C\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF08\u4F8B\u5982\u201CNginx Log Rotation\u201D\uFF09\u3002</p></li><li><p>\u5728<code>\u89E6\u53D1\u5668</code>\u9009\u9879\u5361\u4E2D\uFF0C\u70B9\u51FB\u201C\u65B0\u5EFA\u201D\uFF08New\uFF09\uFF0C\u8BBE\u7F6E\u89E6\u53D1\u5668\uFF08\u4F8B\u5982\u6BCF\u5929\u5348\u591C\uFF09\u3002</p></li><li><p>\u5728<code>\u64CD\u4F5C</code>\u9009\u9879\u5361\u4E2D\uFF0C\u70B9\u51FB\u201C\u65B0\u5EFA\u201D\uFF08New\uFF09\uFF0C\u9009\u62E9\u201C\u542F\u52A8\u7A0B\u5E8F\u201D\uFF08Start a program\uFF09\uFF0C\u7136\u540E\u6D4F\u89C8\u5E76\u9009\u62E9 rotate_nginx_logs.bat \u6587\u4EF6\u3002</p></li><li><p>\u5728<code>\u6761\u4EF6\u201D\u548C</code>\u8BBE\u7F6E\`\u9009\u9879\u5361\u4E2D\uFF0C\u6839\u636E\u9700\u8981\u8C03\u6574\u8BBE\u7F6E\u3002</p></li><li><p>\u70B9\u51FB<code>\u786E\u5B9A</code>\u4FDD\u5B58\u4EFB\u52A1\u3002</p></li></ul>`,9),e=[o];function c(t,r,D,y,F,i){return a(),n("div",null,e)}var d=s(p,[["render",c]]);export{A as __pageData,d as default};
