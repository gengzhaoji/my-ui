import{_ as s,c as n,o as a,a as l}from"./app.7dede5df.js";const i=JSON.parse('{"title":"three \u6DFB\u52A0\u6807\u7B7E","description":"","frontmatter":{"theme":"channing-cyan"},"headers":[{"level":2,"title":"CSS2DRenderer,CSS2DObject\u65B9\u6CD5","slug":"css2drenderer-css2dobject\u65B9\u6CD5"},{"level":2,"title":"CSS3DRenderer,CSS3DSprite\u65B9\u6CD5","slug":"css3drenderer-css3dsprite\u65B9\u6CD5"},{"level":2,"title":"CSS3DRenderer,CSS3DObject\u65B9\u6CD5","slug":"css3drenderer-css3dobject\u65B9\u6CD5"}],"relativePath":"knowledge/three/label.md","lastUpdated":1684303289000}'),p={name:"knowledge/three/label.md"},o=l(`<h1 id="three-\u6DFB\u52A0\u6807\u7B7E" tabindex="-1">three \u6DFB\u52A0\u6807\u7B7E <a class="header-anchor" href="#three-\u6DFB\u52A0\u6807\u7B7E" aria-hidden="true">#</a></h1><p>three \u65E5\u5E38\u5F00\u53D1\u4E2D\u4E0D\u53EF\u907F\u514D\u7684\u8981\u6DFB\u52A0\u5404\u79CD\u5404\u6837\u7684\u6807\u7B7E\uFF0C\u5DF2\u663E\u793A\u54CD\u5E94\u7684\u6A21\u578B\u4FE1\u606F\u7B49\uFF0C\u76EE\u524D\u4E2A\u4EBA\u603B\u7ED3\u4F7F\u7528\u7684\u6709\u4EE5\u4E0B 3 \u79CD\u65B9\u5F0F\u3002</p><h2 id="css2drenderer-css2dobject\u65B9\u6CD5" tabindex="-1"><code>CSS2DRenderer,CSS2DObject</code>\u65B9\u6CD5 <a class="header-anchor" href="#css2drenderer-css2dobject\u65B9\u6CD5" aria-hidden="true">#</a></h2><blockquote><ul><li><code>new CSS2DObject(DOM)</code>\u65B9\u6CD5\u521B\u5EFA <em>label</em>\uFF0C<code>DOM</code> \u4E3A\u9700\u8981\u521B\u5EFA\u7684\u6807\u7B7E <code>html</code>\u3002</li><li><code>new CSS2DRenderer()</code>\u65B9\u6CD5\u521B\u5EFA <em>label</em> \u6E32\u67D3\u5668\u3002</li></ul><hr><ul><li>\u8BE5\u65B9\u6CD5\u521B\u5EFA\u7684\u6807\u7B7E\u4E0D\u4F1A\u968F\u573A\u666F\u7F29\u653E\u800C<em>\u653E\u5927</em>\u548C<em>\u7F29\u5C0F</em>\uFF0C\u53EA\u4F1A\u54CD\u5E94\u76F8\u673A\u7684\u89C6\u89D2\u53D8\u5316\uFF0C<em>\u6807\u7B7E\u6C38\u8FDC\u671D\u5411\u76F8\u673A</em>\u3002</li></ul></blockquote><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">import * as THREE from\xA0&quot;three&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> CSS2DObject</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> CSS2DRenderer </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;three/addons/renderers/CSS2DRenderer&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">let container = shallowRef(null), // \u6A21\u578B\u6E32\u67D3\u7684Demo\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer, //  WebGLRenderer\u6E32\u67D3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene, // \u573A\u666F</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera, // \u76F8\u673A</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u7EC4\u4EF6\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#A6ACCD;">let width, height;</span></span>
<span class="line"><span style="color:#A6ACCD;">useResizeObserver(container, (entries) =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    width </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entries[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentRect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width;</span></span>
<span class="line"><span style="color:#A6ACCD;">    height </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entries[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentRect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height;</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">aspect </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> width </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> height;</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">updateProjectionMatrix</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height);</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u521D\u59CB\u5316\u751F\u547D\u5468\u671F</span></span>
<span class="line"><span style="color:#A6ACCD;">onMounted(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">onBeforeUnmount(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">cancelAnimationFrame</span><span style="color:#A6ACCD;">(requestAnimationFrameIndex);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CA\u653E\u663E\u5B58</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">dispose</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CA\u653E\u5185\u5B58</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    container </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">function init() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u573A\u666F</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Scene</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u76F8\u673A</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">PerspectiveCamera</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">45</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetWidth </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetHeight</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">109.63564910104216</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">86.72574213762547</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">96.25213350271133</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(camera);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;font-style:italic;">// \u6E32\u67D3\u5668 antialias\u5F00\u542F\u6297\u952F\u9F7F alpha\u5F00\u542F\u80CC\u666F\u900F\u660E</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">WebGLRenderer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">antialias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">alpha</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">outputColorSpace </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SRGBColorSpace;</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPixelRatio</span><span style="color:#A6ACCD;">(window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">devicePixelRatio);</span></span>
<span class="line"><span style="color:#A6ACCD;">    container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement);</span></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;font-style:italic;">// label \u6E32\u67D3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CSS2DRenderer</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">absolute</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">top </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pointerEvents </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u706F\u5149</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">lights</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u6807\u7B7E</span></span>
<span class="line"><span style="color:#A6ACCD;">    data</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">labelFn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u6DFB\u52A0label\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">const position = [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [99.1077263429123, 8.24890132993459702, -10.28176099837259],</span></span>
<span class="line"><span style="color:#A6ACCD;">    [110.60365415557996, 8.24890132993459702, 40.15225244267442],</span></span>
<span class="line"><span style="color:#A6ACCD;">];</span></span>
<span class="line"><span style="color:#A6ACCD;">let data = ref([</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11205\u7EFC\u91C7\u9762</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p1: </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p2: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5224</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p3: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2114</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        img: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../assets/img/label/cutterIcon.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11207\u6398\u8FDB\u9762</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p1: </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p2: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5224</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p3: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2114</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        img: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../assets/img/label/tunnellerIcon.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">function labelFn(data,i) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    const dom </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">(labelDemo</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#A6ACCD;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$el;</span></span>
<span class="line"><span style="color:#A6ACCD;">    const pointLabel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CSS2DObject</span><span style="color:#A6ACCD;">(dom);</span></span>
<span class="line"><span style="color:#A6ACCD;">    pointLabel</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">position[i]);</span></span>
<span class="line"><span style="color:#A6ACCD;">    pointLabel</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">center </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Vector2</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(pointLabel);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * \u706F\u5149</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;">function lights() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AmbientLight</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#ffffff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.8</span><span style="color:#A6ACCD;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u6E32\u67D3\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">let requestAnimationFrameIndex;</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u521B\u5EFA\u4E00\u4E2A\u65F6\u949F\u5BF9\u8C61Clock</span></span>
<span class="line"><span style="color:#A6ACCD;">const clock = new THREE.Clock();</span></span>
<span class="line"><span style="color:#A6ACCD;">let speed = 0.02;</span></span>
<span class="line"><span style="color:#A6ACCD;">function render() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(scene</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> camera);</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(scene</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> camera);</span></span>
<span class="line"><span style="color:#A6ACCD;">    requestAnimationFrameIndex </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#A6ACCD;">(render);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="css3drenderer-css3dsprite\u65B9\u6CD5" tabindex="-1"><code>CSS3DRenderer,CSS3DSprite</code>\u65B9\u6CD5 <a class="header-anchor" href="#css3drenderer-css3dsprite\u65B9\u6CD5" aria-hidden="true">#</a></h2><blockquote><ul><li><code>new CSS3DSprite(DOM)</code>\u65B9\u6CD5\u521B\u5EFA <em>label</em>\uFF0C<code>DOM</code> \u4E3A\u9700\u8981\u521B\u5EFA\u7684\u6807\u7B7E <code>html</code>\u3002</li><li><code>new CSS3DRenderer()</code>\u65B9\u6CD5\u521B\u5EFA <em>label</em> \u6E32\u67D3\u5668\u3002</li></ul><hr><ul><li>\u8BE5\u65B9\u6CD5\u521B\u5EFA\u7684\u6807\u7B7E\u4F1A\u968F\u573A\u666F\u7F29\u653E\u800C<em>\u653E\u5927</em>\u548C<em>\u7F29\u5C0F</em>\uFF0C<em>\u6807\u7B7E\u6C38\u8FDC\u671D\u5411\u76F8\u673A</em>\u3002</li></ul></blockquote><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">import * as THREE from\xA0&quot;three&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> CSS3DRenderer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> CSS3DSprite </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;three/addons/renderers/CSS3DRenderer&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">let container = shallowRef(null), // \u6A21\u578B\u6E32\u67D3\u7684Demo\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer, //  WebGLRenderer\u6E32\u67D3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene, // \u573A\u666F</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera, // \u76F8\u673A</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u7EC4\u4EF6\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#A6ACCD;">let width, height;</span></span>
<span class="line"><span style="color:#A6ACCD;">useResizeObserver(container, (entries) =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    width </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entries[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentRect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width;</span></span>
<span class="line"><span style="color:#A6ACCD;">    height </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entries[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentRect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height;</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">aspect </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> width </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> height;</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">updateProjectionMatrix</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height);</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u521D\u59CB\u5316\u751F\u547D\u5468\u671F</span></span>
<span class="line"><span style="color:#A6ACCD;">onMounted(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">onBeforeUnmount(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">cancelAnimationFrame</span><span style="color:#A6ACCD;">(requestAnimationFrameIndex);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CA\u653E\u663E\u5B58</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">dispose</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CA\u653E\u5185\u5B58</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    container </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">function init() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u573A\u666F</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Scene</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u76F8\u673A</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">PerspectiveCamera</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">45</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetWidth </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetHeight</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">109.63564910104216</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">86.72574213762547</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">96.25213350271133</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(camera);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;font-style:italic;">// \u6E32\u67D3\u5668 antialias\u5F00\u542F\u6297\u952F\u9F7F alpha\u5F00\u542F\u80CC\u666F\u900F\u660E</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">WebGLRenderer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">antialias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">alpha</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">outputColorSpace </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SRGBColorSpace;</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPixelRatio</span><span style="color:#A6ACCD;">(window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">devicePixelRatio);</span></span>
<span class="line"><span style="color:#A6ACCD;">    container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement);</span></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;font-style:italic;">// label \u6E32\u67D3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CSS3DRenderer</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">absolute</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">top </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pointerEvents </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u706F\u5149</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">lights</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u6807\u7B7E</span></span>
<span class="line"><span style="color:#A6ACCD;">    data</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">labelFn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u6DFB\u52A0label\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">const position = [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [99.1077263429123, 8.24890132993459702, -10.28176099837259],</span></span>
<span class="line"><span style="color:#A6ACCD;">    [110.60365415557996, 8.24890132993459702, 40.15225244267442],</span></span>
<span class="line"><span style="color:#A6ACCD;">];</span></span>
<span class="line"><span style="color:#A6ACCD;">let data = ref([</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11205\u7EFC\u91C7\u9762</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p1: </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p2: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5224</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p3: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2114</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        img: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../assets/img/label/cutterIcon.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11207\u6398\u8FDB\u9762</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p1: </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p2: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5224</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p3: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2114</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        img: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../assets/img/label/tunnellerIcon.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">function labelFn(data,i) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    const dom </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">(labelDemo</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#A6ACCD;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$el;</span></span>
<span class="line"><span style="color:#A6ACCD;">    const pointLabel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CSS3DSprite</span><span style="color:#A6ACCD;">(dom);</span></span>
<span class="line"><span style="color:#A6ACCD;">    pointLabel</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">position[i]);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u63A7\u5236\u6807\u7B7E\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#A6ACCD;">    pointLabel</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.01</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.01</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.01</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(pointLabel);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * \u706F\u5149</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;">function lights() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AmbientLight</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#ffffff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.8</span><span style="color:#A6ACCD;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u6E32\u67D3\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">let requestAnimationFrameIndex;</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u521B\u5EFA\u4E00\u4E2A\u65F6\u949F\u5BF9\u8C61Clock</span></span>
<span class="line"><span style="color:#A6ACCD;">const clock = new THREE.Clock();</span></span>
<span class="line"><span style="color:#A6ACCD;">let speed = 0.02;</span></span>
<span class="line"><span style="color:#A6ACCD;">function render() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(scene</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> camera);</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(scene</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> camera);</span></span>
<span class="line"><span style="color:#A6ACCD;">    requestAnimationFrameIndex </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#A6ACCD;">(render);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="css3drenderer-css3dobject\u65B9\u6CD5" tabindex="-1"><code>CSS3DRenderer,CSS3DObject</code>\u65B9\u6CD5 <a class="header-anchor" href="#css3drenderer-css3dobject\u65B9\u6CD5" aria-hidden="true">#</a></h2><blockquote><ul><li><code>new CSS3DObject(DOM)</code>\u65B9\u6CD5\u521B\u5EFA <em>label</em>\uFF0C<code>DOM</code> \u4E3A\u9700\u8981\u521B\u5EFA\u7684\u6807\u7B7E <code>html</code>\u3002</li><li><code>new CSS3DRenderer()</code>\u65B9\u6CD5\u521B\u5EFA <em>label</em> \u6E32\u67D3\u5668\u3002</li></ul><hr><ul><li>\u8BE5\u65B9\u6CD5\u521B\u5EFA\u7684\u6807\u7B7E\u4F1A\u968F\u573A\u666F\u7F29\u653E\u800C<em>\u653E\u5927</em>\u548C<em>\u7F29\u5C0F</em>\uFF0C<em>\u6807\u7B7E\u4E0D\u671D\u5411\u76F8\u673A</em>\u3002</li></ul></blockquote><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">import * as THREE from\xA0&quot;three&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> CSS3DRenderer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> CSS3DObject </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;three/addons/renderers/CSS3DRenderer&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">let container = shallowRef(null), // \u6A21\u578B\u6E32\u67D3\u7684Demo\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer, //  WebGLRenderer\u6E32\u67D3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene, // \u573A\u666F</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera, // \u76F8\u673A</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u7EC4\u4EF6\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#A6ACCD;">let width, height;</span></span>
<span class="line"><span style="color:#A6ACCD;">useResizeObserver(container, (entries) =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    width </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entries[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentRect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width;</span></span>
<span class="line"><span style="color:#A6ACCD;">    height </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entries[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentRect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height;</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">aspect </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> width </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> height;</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">updateProjectionMatrix</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height);</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u521D\u59CB\u5316\u751F\u547D\u5468\u671F</span></span>
<span class="line"><span style="color:#A6ACCD;">onMounted(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">onBeforeUnmount(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">cancelAnimationFrame</span><span style="color:#A6ACCD;">(requestAnimationFrameIndex);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CA\u653E\u663E\u5B58</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">dispose</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CA\u653E\u5185\u5B58</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    container </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">function init() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u573A\u666F</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Scene</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u76F8\u673A</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">PerspectiveCamera</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">45</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetWidth </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetHeight</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    camera</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">109.63564910104216</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">86.72574213762547</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">96.25213350271133</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(camera);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;font-style:italic;">// \u6E32\u67D3\u5668 antialias\u5F00\u542F\u6297\u952F\u9F7F alpha\u5F00\u542F\u80CC\u666F\u900F\u660E</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">WebGLRenderer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">antialias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">alpha</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">outputColorSpace </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SRGBColorSpace;</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPixelRatio</span><span style="color:#A6ACCD;">(window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">devicePixelRatio);</span></span>
<span class="line"><span style="color:#A6ACCD;">    container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement);</span></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;font-style:italic;">// label \u6E32\u67D3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CSS3DRenderer</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">absolute</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">top </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pointerEvents </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    container</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(labelRenderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u706F\u5149</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">lights</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u6807\u7B7E</span></span>
<span class="line"><span style="color:#A6ACCD;">    data</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">labelFn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u6DFB\u52A0label\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">const position = [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [99.1077263429123, 8.24890132993459702, -10.28176099837259],</span></span>
<span class="line"><span style="color:#A6ACCD;">    [110.60365415557996, 8.24890132993459702, 40.15225244267442],</span></span>
<span class="line"><span style="color:#A6ACCD;">];</span></span>
<span class="line"><span style="color:#A6ACCD;">let data = ref([</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11205\u7EFC\u91C7\u9762</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p1: </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p2: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5224</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p3: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2114</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        img: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../assets/img/label/cutterIcon.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11207\u6398\u8FDB\u9762</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p1: </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p2: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5224</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        p3: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2114</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        img: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../assets/img/label/tunnellerIcon.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">function labelFn(data,i) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    const dom </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">(labelDemo</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#A6ACCD;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$el;</span></span>
<span class="line"><span style="color:#A6ACCD;">    const pointLabel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CSS3DObject</span><span style="color:#A6ACCD;">(dom);</span></span>
<span class="line"><span style="color:#A6ACCD;">    pointLabel</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">position[i]);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u63A7\u5236\u6807\u7B7E\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#A6ACCD;">    pointLabel</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.01</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.01</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.01</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(pointLabel);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * \u706F\u5149</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;">function lights() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    scene</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AmbientLight</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#ffffff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.8</span><span style="color:#A6ACCD;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u6E32\u67D3\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">let requestAnimationFrameIndex;</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u521B\u5EFA\u4E00\u4E2A\u65F6\u949F\u5BF9\u8C61Clock</span></span>
<span class="line"><span style="color:#A6ACCD;">const clock = new THREE.Clock();</span></span>
<span class="line"><span style="color:#A6ACCD;">let speed = 0.02;</span></span>
<span class="line"><span style="color:#A6ACCD;">function render() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    labelRenderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(scene</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> camera);</span></span>
<span class="line"><span style="color:#A6ACCD;">    renderer</span><span style="color:#89DDFF;">?.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(scene</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> camera);</span></span>
<span class="line"><span style="color:#A6ACCD;">    requestAnimationFrameIndex </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#A6ACCD;">(render);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ceefa498a7b4813b67a00c256f7cbb9~tplv-k3u1fbpfcp-watermark.image?">`,12),e=[o];function c(t,r,D,A,y,C){return a(),n("div",null,e)}var d=s(p,[["render",c]]);export{i as __pageData,d as default};
