import{_ as s,c as n,o as a,a as o}from"./app.6056150c.js";const g=JSON.parse('{"title":"vite \u6253\u5305\u56FE\u7247\u538B\u7F29","description":"","frontmatter":{},"headers":[{"level":3,"title":"1. \u6838\u5FC3\u5B9E\u73B0\u4E0E\u4F9D\u8D56","slug":"_1-\u6838\u5FC3\u5B9E\u73B0\u4E0E\u4F9D\u8D56"},{"level":3,"title":"2. \u529F\u80FD\u4E0E\u538B\u7F29\u6548\u679C","slug":"_2-\u529F\u80FD\u4E0E\u538B\u7F29\u6548\u679C"},{"level":3,"title":"3. \u6027\u80FD\u4E0E\u6784\u5EFA\u901F\u5EA6","slug":"_3-\u6027\u80FD\u4E0E\u6784\u5EFA\u901F\u5EA6"},{"level":3,"title":"4. \u914D\u7F6E\u590D\u6742\u5EA6","slug":"_4-\u914D\u7F6E\u590D\u6742\u5EA6"},{"level":3,"title":"5. \u9002\u7528\u573A\u666F","slug":"_5-\u9002\u7528\u573A\u666F"},{"level":3,"title":"6. \u5176\u4ED6\u6CE8\u610F\u4E8B\u9879","slug":"_6-\u5176\u4ED6\u6CE8\u610F\u4E8B\u9879"},{"level":3,"title":"\u603B\u7ED3\u5EFA\u8BAE","slug":"\u603B\u7ED3\u5EFA\u8BAE"}],"relativePath":"knowledge/vue/image.md","lastUpdated":1745458879000}'),l={name:"knowledge/vue/image.md"},e=o(`<h1 id="vite-\u6253\u5305\u56FE\u7247\u538B\u7F29" tabindex="-1">vite \u6253\u5305\u56FE\u7247\u538B\u7F29 <a class="header-anchor" href="#vite-\u6253\u5305\u56FE\u7247\u538B\u7F29" aria-hidden="true">#</a></h1><p><code>vite-plugin-imagemin</code> \u548C <code>vite-plugin-image-optimizer</code> \u90FD\u662F\u7528\u4E8E <strong>Vite \u9879\u76EE\u56FE\u7247\u538B\u7F29\u4F18\u5316</strong>\u7684\u63D2\u4EF6\uFF0C\u4F46\u5B83\u4EEC\u5728\u5B9E\u73B0\u65B9\u5F0F\u3001\u529F\u80FD\u548C\u4F9D\u8D56\u9879\u4E0A\u6709\u663E\u8457\u5DEE\u5F02\u3002\u4EE5\u4E0B\u662F\u8BE6\u7EC6\u5BF9\u6BD4\uFF1A</p><hr><h3 id="_1-\u6838\u5FC3\u5B9E\u73B0\u4E0E\u4F9D\u8D56" tabindex="-1"><strong>1. \u6838\u5FC3\u5B9E\u73B0\u4E0E\u4F9D\u8D56</strong> <a class="header-anchor" href="#_1-\u6838\u5FC3\u5B9E\u73B0\u4E0E\u4F9D\u8D56" aria-hidden="true">#</a></h3><table><thead><tr><th><strong>\u7279\u6027</strong></th><th><code>vite-plugin-imagemin</code></th><th><code>vite-plugin-image-optimizer</code></th></tr></thead><tbody><tr><td><strong>\u5E95\u5C42\u5DE5\u5177</strong></td><td>\u57FA\u4E8E <code>imagemin</code> \u53CA\u5176\u63D2\u4EF6\u751F\u6001\uFF08\u5982 <code>mozjpeg</code>, <code>pngquant</code>\uFF09</td><td>\u57FA\u4E8E <code>sharp</code>\uFF08\u9AD8\u6027\u80FD\u56FE\u50CF\u5904\u7406\u5E93\uFF09\u6216\u539F\u751F <code>squoosh</code></td></tr><tr><td><strong>\u4F9D\u8D56\u9879</strong></td><td>\u9700\u8981\u989D\u5916\u5B89\u88C5 <code>imagemin-*</code> \u63D2\u4EF6\uFF08\u5982 <code>imagemin-pngquant</code>\uFF09</td><td>\u4EC5\u9700 <code>sharp</code>\uFF08\u9ED8\u8BA4\u63A8\u8350\uFF09\u6216\u96F6\u4F9D\u8D56\uFF08\u4F7F\u7528 <code>squoosh</code>\uFF09</td></tr><tr><td><strong>\u5B89\u88C5\u590D\u6742\u5EA6</strong></td><td>\u8F83\u9AD8\uFF08\u9700\u624B\u52A8\u9009\u62E9\u5E76\u5B89\u88C5\u63D2\u4EF6\uFF09</td><td>\u8F83\u4F4E\uFF08\u5F00\u7BB1\u5373\u7528\uFF09</td></tr></tbody></table><hr><h3 id="_2-\u529F\u80FD\u4E0E\u538B\u7F29\u6548\u679C" tabindex="-1"><strong>2. \u529F\u80FD\u4E0E\u538B\u7F29\u6548\u679C</strong> <a class="header-anchor" href="#_2-\u529F\u80FD\u4E0E\u538B\u7F29\u6548\u679C" aria-hidden="true">#</a></h3><table><thead><tr><th><strong>\u7279\u6027</strong></th><th><code>vite-plugin-imagemin</code></th><th><code>vite-plugin-image-optimizer</code></th></tr></thead><tbody><tr><td><strong>\u538B\u7F29\u7B97\u6CD5</strong></td><td>\u652F\u6301\u591A\u683C\u5F0F\u63D2\u4EF6\uFF08\u5982 <code>mozjpeg</code>/<code>pngquant</code>/<code>svgo</code>\uFF09</td><td>\u4F7F\u7528 <code>sharp</code> \u7684\u4F18\u5316\u7B97\u6CD5\uFF08\u81EA\u52A8\u683C\u5F0F\u9002\u914D\uFF09</td></tr><tr><td><strong>\u683C\u5F0F\u652F\u6301</strong></td><td>\u9700\u624B\u52A8\u914D\u7F6E\u5404\u683C\u5F0F\u63D2\u4EF6</td><td>\u81EA\u52A8\u5904\u7406\u5E38\u89C1\u683C\u5F0F\uFF08JPG/PNG/WebP/AVIF/SVG\uFF09</td></tr><tr><td><strong>\u538B\u7F29\u7387\u63A7\u5236</strong></td><td>\u9AD8\u5EA6\u53EF\u5B9A\u5236\uFF08\u6BCF\u4E2A\u63D2\u4EF6\u72EC\u7ACB\u914D\u7F6E\uFF09</td><td>\u7B80\u5355\u53C2\u6570\u914D\u7F6E\uFF08\u5982 <code>quality</code>\uFF09</td></tr><tr><td><strong>WebP/AVIF \u8F6C\u6362</strong></td><td>\u9700\u624B\u52A8\u914D\u7F6E\u63D2\u4EF6\uFF08\u5982 <code>imagemin-webp</code>\uFF09</td><td>\u5185\u7F6E\u652F\u6301\uFF08\u901A\u8FC7 <code>sharp</code>\uFF09</td></tr></tbody></table><hr><h3 id="_3-\u6027\u80FD\u4E0E\u6784\u5EFA\u901F\u5EA6" tabindex="-1"><strong>3. \u6027\u80FD\u4E0E\u6784\u5EFA\u901F\u5EA6</strong> <a class="header-anchor" href="#_3-\u6027\u80FD\u4E0E\u6784\u5EFA\u901F\u5EA6" aria-hidden="true">#</a></h3><table><thead><tr><th><strong>\u7279\u6027</strong></th><th><code>vite-plugin-imagemin</code></th><th><code>vite-plugin-image-optimizer</code></th></tr></thead><tbody><tr><td><strong>\u901F\u5EA6</strong></td><td>\u8F83\u6162\uFF08\u94FE\u5F0F\u8C03\u7528\u591A\u4E2A\u63D2\u4EF6\uFF09</td><td>\u6781\u5FEB\uFF08<code>sharp</code> \u57FA\u4E8E C++ \u539F\u751F\u6027\u80FD\uFF09</td></tr><tr><td><strong>\u7F13\u5B58\u673A\u5236</strong></td><td>\u65E0\u5185\u7F6E\u7F13\u5B58</td><td>\u652F\u6301\u7F13\u5B58\uFF08\u907F\u514D\u91CD\u590D\u538B\u7F29\uFF09</td></tr><tr><td><strong>\u5E76\u884C\u5904\u7406</strong></td><td>\u4F9D\u8D56 Node.js \u7EBF\u7A0B\u6C60</td><td>\u81EA\u52A8\u5E76\u884C\u5316\uFF08<code>sharp</code> \u4F18\u5316\uFF09</td></tr></tbody></table><hr><h3 id="_4-\u914D\u7F6E\u590D\u6742\u5EA6" tabindex="-1"><strong>4. \u914D\u7F6E\u590D\u6742\u5EA6</strong> <a class="header-anchor" href="#_4-\u914D\u7F6E\u590D\u6742\u5EA6" aria-hidden="true">#</a></h3><h4 id="vite-plugin-imagemin-\u793A\u4F8B" tabindex="-1"><strong><code>vite-plugin-imagemin</code> \u793A\u4F8B</strong> <a class="header-anchor" href="#vite-plugin-imagemin-\u793A\u4F8B" aria-hidden="true">#</a></h4><div class="language-javascript"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> imagemin </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite-plugin-imagemin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">imagemin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">gifsicle</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">optimizationLevel</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">mozjpeg</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">quality</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">pngquant</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">quality</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0.8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.9</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">svgo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">removeViewBox</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cleanupIDs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h4 id="vite-plugin-image-optimizer-\u793A\u4F8B" tabindex="-1"><strong><code>vite-plugin-image-optimizer</code> \u793A\u4F8B</strong> <a class="header-anchor" href="#vite-plugin-image-optimizer-\u793A\u4F8B" aria-hidden="true">#</a></h4><div class="language-javascript"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ViteImageOptimizer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite-plugin-image-optimizer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">ViteImageOptimizer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">jpg</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">quality</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">png</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">quality</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">webp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">lossless</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><hr><h3 id="_5-\u9002\u7528\u573A\u666F" tabindex="-1"><strong>5. \u9002\u7528\u573A\u666F</strong> <a class="header-anchor" href="#_5-\u9002\u7528\u573A\u666F" aria-hidden="true">#</a></h3><table><thead><tr><th><strong>\u573A\u666F</strong></th><th><strong>\u63A8\u8350\u63D2\u4EF6</strong></th></tr></thead><tbody><tr><td>\u9700\u8981\u6DF1\u5EA6\u5B9A\u5236\u538B\u7F29\u53C2\u6570</td><td><code>vite-plugin-imagemin</code></td></tr><tr><td>\u8FFD\u6C42\u6781\u7B80\u914D\u7F6E\u548C\u5FEB\u901F\u6784\u5EFA</td><td><code>vite-plugin-image-optimizer</code></td></tr><tr><td>\u9700\u8981 WebP/AVIF \u81EA\u52A8\u8F6C\u6362</td><td><code>vite-plugin-image-optimizer</code></td></tr><tr><td>\u8001\u65E7\u9879\u76EE\u517C\u5BB9\u6027\u8981\u6C42</td><td><code>vite-plugin-imagemin</code></td></tr></tbody></table><hr><h3 id="_6-\u5176\u4ED6\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><strong>6. \u5176\u4ED6\u6CE8\u610F\u4E8B\u9879</strong> <a class="header-anchor" href="#_6-\u5176\u4ED6\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a></h3><ul><li><strong><code>vite-plugin-imagemin</code> \u7684\u75DB\u70B9</strong>: <ul><li>\u4F9D\u8D56\u94FE\u590D\u6742\uFF08\u9700\u624B\u52A8\u5B89\u88C5 <code>imagemin</code> \u63D2\u4EF6\uFF09</li><li>\u53EF\u80FD\u56E0 Node.js \u7248\u672C\u6216\u7CFB\u7EDF\u73AF\u5883\u5BFC\u81F4\u5B89\u88C5\u5931\u8D25\uFF08\u5982 <code>imagemin</code> \u7684\u4E8C\u8FDB\u5236\u4F9D\u8D56\uFF09</li></ul></li><li><strong><code>vite-plugin-image-optimizer</code> \u7684\u4F18\u52BF</strong>: <ul><li>\u96F6\u914D\u7F6E\u9ED8\u8BA4\u4F18\u5316\uFF08\u53EA\u9700\u5B89\u88C5\u63D2\u4EF6\uFF09</li><li>\u652F\u6301\u73B0\u4EE3\u683C\u5F0F\uFF08\u5982 AVIF\uFF09\u548C\u54CD\u5E94\u5F0F\u56FE\u7247\u751F\u6210</li><li>\u4E0E Vite \u7684\u6309\u9700\u52A0\u8F7D\u673A\u5236\u6DF1\u5EA6\u96C6\u6210</li></ul></li></ul><hr><h3 id="\u603B\u7ED3\u5EFA\u8BAE" tabindex="-1"><strong>\u603B\u7ED3\u5EFA\u8BAE</strong> <a class="header-anchor" href="#\u603B\u7ED3\u5EFA\u8BAE" aria-hidden="true">#</a></h3><ul><li>\u5982\u679C\u9879\u76EE\u9700\u8981 <strong>\u7CBE\u7EC6\u63A7\u5236\u538B\u7F29\u53C2\u6570</strong> \u6216\u517C\u5BB9\u8001\u65E7\u5DE5\u5177\u94FE\uFF0C\u9009\u62E9 <code>vite-plugin-imagemin</code>\u3002</li><li>\u5982\u679C\u8FFD\u6C42 <strong>\u5F00\u7BB1\u5373\u7528\u3001\u9AD8\u6027\u80FD\u548C\u73B0\u4EE3\u683C\u5F0F\u652F\u6301</strong>\uFF0C\u4F18\u5148\u9009\u62E9 <code>vite-plugin-image-optimizer</code>\u3002</li></ul><p>\u4E24\u79CD\u63D2\u4EF6\u5747\u53EF\u901A\u8FC7\u4EE5\u4E0B\u547D\u4EE4\u5FEB\u901F\u5B89\u88C5\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;"># \u5B89\u88C5 imagemin \u7248\u672C</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install vite-plugin-imagemin imagemin-mozjpeg imagemin-pngquant imagemin-svgo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u5B89\u88C5 image-optimizer \u7248\u672C\uFF08\u63A8\u8350\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install vite-plugin-image-optimizer sharp</span></span>
<span class="line"></span></code></pre></div>`,28),t=[e];function p(r,c,i,d,D,y){return a(),n("div",null,t)}var C=s(l,[["render",p]]);export{g as __pageData,C as default};
