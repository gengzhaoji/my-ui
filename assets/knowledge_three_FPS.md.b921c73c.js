import{_ as s,c as n,o as a,a as o}from"./app.ba09d780.js";const C=JSON.parse('{"title":"\u63A7\u5236\u6E32\u67D3\u5E27\u7387 FPS","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge/three/FPS.md","lastUpdated":1690968742000}'),l={name:"knowledge/three/FPS.md"},e=o(`<h1 id="\u63A7\u5236\u6E32\u67D3\u5E27\u7387-fps" tabindex="-1">\u63A7\u5236\u6E32\u67D3\u5E27\u7387 FPS <a class="header-anchor" href="#\u63A7\u5236\u6E32\u67D3\u5E27\u7387-fps" aria-hidden="true">#</a></h1><p>\u9996\u5148\u4F60\u5E94\u8BE5\u77E5\u9053 <code>Three.js</code> \u6E32\u67D3\u5668\u7684\u6E32\u67D3\u65B9\u6CD5 <code>.render()</code> \u6BCF\u6267\u884C\u4E00\u6B21\uFF0C<code>WebGL</code> \u5E27\u7F13\u51B2\u533A\u5C31\u5F97\u5230\u4E00\u5E27\u50CF\u7D20\u6570\u636E\uFF0C<code>canvas</code> \u753B\u5E03\u5C31\u4F1A\u663E\u793A\u5F53\u524D\u6E32\u67D3\u7684\u4E00\u5E27\u50CF\u7D20\u6570\u636E\u3002\u901A\u8FC7 <code>requestAnimationFrame()</code> \u53EF\u4EE5\u5468\u671F\u6027\u8C03\u7528\u6267\u884C\u6E32\u67D3\u65B9\u6CD5<code>.render()</code>\uFF0C\u5E27\u7387\u5C31\u662F\u6307\u6E32\u67D3\u65B9\u6CD5<code>.render()</code>\u6BCF\u79D2\u949F\u6267\u884C\u6B21\u6570\uFF0C\u6BD4\u5982\u5E27\u7387\u662F <code>60</code>\uFF0C\u53EF\u4EE5\u8868\u793A\u4E3A <code>60FBS</code>\uFF0C<code>FBS</code> \u5BF9\u5E94\u7684\u82F1\u6587\u662F <code>Frame per Second</code> \u6BCF\u79D2\u5E27\u6570\uFF0C\u5982\u679C\u5E27\u7387\u662F <code>50</code>\uFF0C\u90A3\u4E48 <code>2</code> \u79D2\u5BF9\u5E94\u5E27\u6570\u5C31\u662F <code>100</code>.</p><p>\u5728\u4E00\u4E9B\u7279\u5B9A\u7684\u5E94\u7528\u4E2D\u6CA1\u6709\u5FC5\u8981\u4FDD\u6301 <code>Threejs</code> \u6E32\u67D3\u9891\u7387\u4E3A <code>60FPS</code>\uFF0C\u90A3\u4E48\u53EF\u4EE5\u901A\u8FC7 <code>Threejs</code> \u6E32\u67D3\u65F6\u95F4\u5224\u65AD\u6765\u63A7\u5236 <code>Threejs</code> \u6E32\u67D3\u9891\u7387\uFF0C\u6BD4\u5982\u8BBE\u7F6E\u4E3A <code>30FPS</code>\u3002</p><p>\u4E0B\u9762\u4EE3\u7801\u901A\u8FC7\u65F6\u949F\u5BF9\u8C61<code>.Clock</code> \u7684<code>.getDelta()</code>\u65B9\u6CD5\u83B7\u5F97 <code>threejs</code> \u4E24\u5E27\u6E32\u67D3\u65F6\u95F4\u95F4\u9694\uFF0C\u7136\u540E\u901A\u8FC7\u65F6\u95F4\u5224\u65AD\u6765\u63A7\u5236\u6E32\u67D3\u5668\u6E32\u67D3\u65B9\u6CD5<code>.render()</code>\u6BCF\u79D2\u6267\u884C\u6B21\u6570\u3002</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u521B\u5EFA\u4E00\u4E2A\u65F6\u949F\u5BF9\u8C61Clock</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> clock </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Clock</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u8BBE\u7F6E\u6E32\u67D3\u9891\u7387\u4E3A30FBS\uFF0C\u4E5F\u5C31\u662F\u6BCF\u79D2\u8C03\u7528\u6E32\u67D3\u5668render\u65B9\u6CD5\u5927\u7EA630\u6B21</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> FPS </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> renderT </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> FPS</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//\u5355\u4F4D\u79D2  \u95F4\u9694\u591A\u957F\u65F6\u95F4\u6E32\u67D3\u6E32\u67D3\u4E00\u6B21</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u58F0\u660E\u4E00\u4E2A\u53D8\u91CF\u8868\u793Arender()\u51FD\u6570\u88AB\u591A\u6B21\u8C03\u7528\u7D2F\u79EF\u65F6\u95F4</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u5982\u679C\u6267\u884C\u4E00\u6B21renderer.render\uFF0CtimeS\u91CD\u65B0\u7F6E0</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> timeS </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">render</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//.getDelta()\u65B9\u6CD5\u83B7\u5F97\u4E24\u5E27\u7684\u65F6\u95F4\u95F4\u9694</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">T</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDelta</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">timeS</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timeS</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">T</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// requestAnimationFrame\u9ED8\u8BA4\u8C03\u7528render\u51FD\u657060\u6B21\uFF0C\u901A\u8FC7\u65F6\u95F4\u5224\u65AD\uFF0C\u964D\u4F4Erenderer.render\u6267\u884C\u9891\u7387</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">timeS</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderT</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// \u63A7\u5236\u53F0\u67E5\u770B\u6E32\u67D3\u5668\u6E32\u67D3\u65B9\u6CD5\u7684\u8C03\u7528\u5468\u671F\uFF0C\u4E5F\u5C31\u662F\u95F4\u9694\u65F6\u95F4\u662F\u591A\u5C11</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">\u8C03\u7528.render\u65F6\u95F4\u95F4\u9694</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timeS</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6BEB\u79D2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">scene</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">camera</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//\u6267\u884C\u6E32\u67D3\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//renderer.render\u6BCF\u6267\u884C\u4E00\u6B21\uFF0CtimeS\u7F6E0</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">timeS</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div>`,5),p=[e];function c(t,r,F,y,D,d){return a(),n("div",null,p)}var i=s(l,[["render",c]]);export{C as __pageData,i as default};
