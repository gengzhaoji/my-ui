import{_ as s,c as a,o as n,a as l}from"./app.14664fbb.js";var p="/my-ui/watermark.gif";const m=JSON.parse('{"title":"mapbox","description":"","frontmatter":{"title":"mapbox","date":"2022-09-07T16:50:51.000Z","tags":["mapbox","vue"],"excerpt":"vue3\u4E2D\u4F7F\u7528mapbox-gl"},"headers":[{"level":2,"title":"mapbox-gl \u5728 vue \u4E2D\u600E\u6837\u5B9E\u73B0\u4E2D\u6587\u663E\u793A","slug":"mapbox-gl-\u5728-vue-\u4E2D\u600E\u6837\u5B9E\u73B0\u4E2D\u6587\u663E\u793A"},{"level":2,"title":"\u9690\u85CF mapbox \u5546\u6807\u4FE1\u606F","slug":"\u9690\u85CF-mapbox-\u5546\u6807\u4FE1\u606F"},{"level":2,"title":"\u5B8C\u6574\u4EE3\u7801 && \u6548\u679C\u56FE","slug":"\u5B8C\u6574\u4EE3\u7801-\u6548\u679C\u56FE"}],"relativePath":"knowledge/mapbox/index.md","lastUpdated":1678083950000}'),o={name:"knowledge/mapbox/index.md"},e=l(`<h1 id="vue-\u4E2D\u4F7F\u7528-mapbox-gl" tabindex="-1">vue \u4E2D\u4F7F\u7528 mapbox-gl <a class="header-anchor" href="#vue-\u4E2D\u4F7F\u7528-mapbox-gl" aria-hidden="true">#</a></h1><ol><li>\u5B89\u88C5</li></ol><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">pnpm i mapbox</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">gl </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">S</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u5728\u5355\u9875\u9762\u4E2D\u4F7F\u7528</li></ol><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// mapboxgl\u5730\u56FE</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> mapboxgl </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mapbox-gl</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mapbox-gl/dist/mapbox-gl.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u6CE8\u610F 1:\xA0<strong><em>\u65E0\u9700\u5728 main.js \u505A\u5168\u5C40\u5F15\u5165\uFF1B</em></strong> \u6CE8\u610F 2:\xA0<strong><em>\u4E00\u5B9A\u8981\u5F15\u5165\u6837\u5F0F\uFF0C\u5426\u5219\u6709\u4E9B\u4E1C\u897F\u663E\u793A\u4E0D\u51FA\u6765\uFF0C\u6BD4\u5982\u8BF4\u653E\u5927\u7F29\u5C0F\u7684\u5BFC\u822A\u63A7\u5236\u6761\uFF1B</em></strong></p></blockquote><h2 id="mapbox-gl-\u5728-vue-\u4E2D\u600E\u6837\u5B9E\u73B0\u4E2D\u6587\u663E\u793A" tabindex="-1">mapbox-gl \u5728 vue \u4E2D\u600E\u6837\u5B9E\u73B0\u4E2D\u6587\u663E\u793A <a class="header-anchor" href="#mapbox-gl-\u5728-vue-\u4E2D\u600E\u6837\u5B9E\u73B0\u4E2D\u6587\u663E\u793A" aria-hidden="true">#</a></h2><p>1\u3001 \u5B89\u88C5@mapbox/mapbox-gl-language</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">pnpm i @mapbox/mapbox-gl-language -S</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>2\u3001 \u5728\u5355\u9875\u4E2D\u5F15\u7528</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">// mapboxgl\u6C49\u5316</span></span>
<span class="line"><span style="color:#A6ACCD;">import MapboxLanguage from &#39;@mapbox/mapbox-gl-language&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>3\u3001 \u5728\u521D\u59CB\u5316\u5730\u56FE\u65B9\u6CD5\u4E2D\u8BBE\u7F6E\u8BED\u8A00</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">map.addControl(new MapboxLanguage({ defaultLanguage: &#39;zh-Hans&#39; }));</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="\u9690\u85CF-mapbox-\u5546\u6807\u4FE1\u606F" tabindex="-1">\u9690\u85CF mapbox \u5546\u6807\u4FE1\u606F <a class="header-anchor" href="#\u9690\u85CF-mapbox-\u5546\u6807\u4FE1\u606F" aria-hidden="true">#</a></h2><div class="language-css"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">mapboxgl-ctrl-bottom-left</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">mapboxgl-ctrl-bottom-right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> none</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5B8C\u6574\u4EE3\u7801-\u6548\u679C\u56FE" tabindex="-1">\u5B8C\u6574\u4EE3\u7801 &amp;&amp; \u6548\u679C\u56FE <a class="header-anchor" href="#\u5B8C\u6574\u4EE3\u7801-\u6548\u679C\u56FE" aria-hidden="true">#</a></h2><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">basicMapbox</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">position: relative</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">w100 h100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">// mapboxgl\u5730\u56FE</span></span>
<span class="line"><span style="color:#A6ACCD;">import mapboxgl from &#39;mapbox-gl&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">import &#39;mapbox-gl/dist/mapbox-gl.css&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">// mapboxgl\u6C49\u5316</span></span>
<span class="line"><span style="color:#A6ACCD;">import MapboxLanguage from &#39;@mapbox/mapbox-gl-language&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">let map; // \u5730\u56FE</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// \u521D\u59CB\u5316\u751F\u547D\u5468\u671F</span></span>
<span class="line"><span style="color:#A6ACCD;">onMounted(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">onBeforeUnmount(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">const basicMapbox = ref(null),</span></span>
<span class="line"><span style="color:#A6ACCD;">    start = </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        center: [</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        zoom: </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        pitch: </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        bearing: </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    end = </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        center: [</span><span style="color:#F78C6C;">118.726533</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">32.012005</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        zoom: </span><span style="color:#F78C6C;">16.5</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        bearing: </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//\u76EE\u6807\u65B9\u4F4D\u89D2</span></span>
<span class="line"><span style="color:#A6ACCD;">        pitch: </span><span style="color:#F78C6C;">75</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">function init() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    mapboxgl</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">accessToken </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pk.eyJ1IjoicGxheS1pc2FhYyIsImEiOiJjazU0cDkzbWowamd2M2dtemd4bW9mbzRhIn0.cxD4Fw3ZPB_taMkyUSFENA</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> mapboxgl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">container</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> basicMapbox</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mapbox://styles/mapbox-map-design/ckhqrf2tz0dt119ny6azh975y</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">projection</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">globe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// \u4E3A 3D \u5730\u7403</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">antialias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//\u6297\u952F\u9F7F\uFF0C\u901A\u8FC7false\u5173\u95ED\u63D0\u5347\u6027\u80FD</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addControl</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MapboxLanguage</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">defaultLanguage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zh-Hans</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">));</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ### \u6DFB\u52A0\u5BFC\u822A\u63A7\u5236\u6761</span></span>
<span class="line"><span style="color:#A6ACCD;">    map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addControl</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> mapboxgl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">NavigationControl</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">top-left</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style.load</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setFog</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">flyTo</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            duration</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">12000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            essential</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">.mapboxgl-ctrl-bottom-left,</span></span>
<span class="line"><span style="color:#A6ACCD;">.mapboxgl-ctrl-bottom-right </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    display: none;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">.mapboxgl-ctrl-icon </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    box</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">sizing: border</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">box;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><img src="`+p+'" width="100%">',18),c=[e];function t(r,D,y,F,C,A){return n(),a("div",null,c)}var g=s(o,[["render",t]]);export{m as __pageData,g as default};
